<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Watch Movie</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { background:#000; color:#fff; font-family:Arial; text-align:center; padding:20px; }
        .title { font-size:24px; margin-bottom:20px; }
        .btn {
            display:inline-block;
            padding:15px 25px;
            background:#ff004f;
            color:#fff;
            border-radius:12px;
            text-decoration:none;
            font-size:20px;
            margin-top:20px;
        }
    </style>
</head>

<body>

<h1 class="title" id="movie-title">Loading...</h1>

<p>If video cannot open here, click button below to open in MEGA App</p>

<a id="megaBtn" class="btn">Open in MEGA App</a>

<script>
const params = new URLSearchParams(window.location.search);
const movieId = params.get("id");

// Load movie details
fetch("movies.json")
  .then(res => res.json())
  .then(movies => {
    const movie = movies.find(m => m.id == movieId);

    if (!movie) {
      document.getElementById("movie-title").innerText = "Movie Not Found";
      return;
    }

    document.getElementById("movie-title").innerText = movie.title;

    // When user clicks button â†’ open MEGA app
    document.getElementById("megaBtn").onclick = () => {
      window.location.href = movie.mega.replace("https://mega.nz", "mega://");
    };
  });
</script>

</body>
</html>
